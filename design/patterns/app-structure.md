# App Structure 

应用根据需求的不同，呈现出不同的姿态：

* 像计算器和照相机这样的应用，就一个活动，一个屏幕
* 像电话本这样的应用主要是在不同活动之间切换，没有较深的导航
* 像邮件和应用商店这样的应用会将数据视图和深导航结合在一起

应用的结构很大程度上依赖于你要向用户展示的内容以及任务

## General Structure

一个典型的 Android 应用由顶层视图和详情/编辑视图构成。如果层次过深，可以通过分类视图连接顶层视图和详情视图。

* Top level views: 顶层视图通常由应用支持的各种不同的视图构成。这些视图要么给出同样数据的不同显示方式，要么给出应用的不同功能。
* Category views: 分类视图可以让你进入下一层的数据
* Detail/edit view: 详情/编辑视图是你创建，使用数据的地方


## Top Level 

应用首屏的布局需要特别关注，这是用户启动应用后看到的第一个页面，所以需要考虑到新用户和老用户的体验。

问问你自己：“典型用户在我的应用中最想做的事情是什么？”，根据这个问题的答案设计首屏的结构。

* Put content forward: 许多应用主要用于内容展示，要避免那种只包含导航的页面，通过将内容放到首屏的中间让用户马上就能看到应用的内容。选择布局时，要注意视觉上要令人愉悦，同时适用于数据类型和屏幕大小。
* Set up action bars for navigation and actions: 应用内所有页面都应该显示动作栏，以便提供一致的导航并且可以看到重要的动作按钮。在最顶层，动作栏需要特别考虑以下内容 ：
  - 使用动作按钮显示应用图标和名称
  - 如果顶层包含多个视图，可以通过在动作栏增加控件保证用户很容易进入每个视图的导航
  - 如果你的应用可以让用户创建内容，考虑让用户从顶层就能访问到这些数据
  - 如果内容是可以搜索的，可以把搜索按钮放到动作栏上，这样用户可以跳过导航这一层，直接进入搜索

## Topo Level Switching With View Controls

顶层视图通过将用户引导进入主要的功能区域传达应用的功能。在许多情况下，顶层视图包含了多个视图，你需要确保用户可以在他们之间高效地导航。Android 为这一任务提供了几个视图控件支持:

* Fixed tabs: 固定标签同时在顶层视图显示，这样可以很容易浏览，切换。他们一直在屏幕上显示，不会像可滑动标签一样移出屏幕。固定标签应该总是可以通过在内容区左右滑动进行切换。在下列情况下你可以使用标签：
  - 用户经常在不同视图之间切换
  - 最多有三个顶层视图
  - 你想要用户强烈意识到不同的视图
  
* Spinners: spinner 是一个下拉菜单，可以让用户在不同视图之间切换，在下列情况下可以让 spinner 出现在主动作栏上:
  - 你不想因为标签栏放弃竖直方向上的屏幕空间
  - 用户会对同一数据集切换不同的显示视图（例如，日历上按天，星期，月查看事件）或者同种类型的数据（例如不同帐户的内容）

* Navigation drawers: navigation drawer 是滑出式的菜单，可以让用户在视图之间切换。它可以包含大量的项目，并且可以从应用的任何地方访问。Navigation drawer 向你展示应用的顶层视图，也可以提供向低层屏幕的导航。这使得他们特别适用于复杂的应用。在下面情况下你可以使用它：
  - 你不想因为标签栏放弃竖直方向上的屏幕空间
  - 你有大量的顶层视图
  - 你想要在较低的层次上直接访问屏幕
  - 你想要在彼此没有关系的视图之前提供快速的导航
  - 你有特别深的导航分支
  
* Don't mix and match: 如果你已经选择了最佳的顶层导航方式，就不要混合各种模式。例如，如果你决定使用标签在顶层之间切换，就不要添加 drawer，即使你的导航分支很深。这种情况下，navigation drawer 会简单地重复标签上的信息，这会让用户感到困惑。

## Categories

一般情况下，一个数据驱动的应用，其目的就在于在不同的类别到类别详情之间导航，数据可以浏览，管理。要通过保持应用层次数少，来最小化用户使用导航需要付出的努力。

虽然从顶层视图到详情视图要经过的导航数目和你内容的结构有关系，但是还是有几种方式可以减少导航带来的焦虑感。

* Use tabs to combine category selection and data display: 如果各个类别是相似的，并且类别的数目很少，可以使用标签将类别选择和数据显示结合在一起。这样可以减少层级并且数据保持在用户注意力的中心。在数据类别之间进行侧面导航更像是一种随意的浏览，而非显式的导航。如果类别是相似的，可以预测的，或者非常相关，可以使用滑动标签。保持标签数目在一个可以管理的范围内，以便减少因为导航需要付出的努力。Rule of thumb: 不要多于 5-7 个。如果标签类别不是非常相关，选择固定标签更好，类别可以同时显示。
* Allow cutting through hierarchies: 利用那些可以帮助用户更快达成目标的捷径。为了能使得用户可以在顶层为列表或者网格 视图中的数据项调用动作，使用下拉或者分割的列表项，将主要动作直接显示在列表视图中。这使得用户可以在数据上调用动作，而不用通过导航进入下一层级。
* Acting upon multiple data items: 虽然类别视图多数情况下用于将用户引导至内容详情，但是要记住总是有很好的理由将动作作用于数据集合上。例如，如果你允许用户删除详情视图中的数据项，那么，你也应该允许他们删除类别视图中的多个数据项。分析哪个详情视图的动作适用于多个项的集合，然后使用多选，允许将这些动作应用于多个数据项。

## Details
详情视图允许你浏览并作用于你的数据，详情视图的布局依赖于被显示的数据类型，因此不同应用之间有着很大的区别。

* Layout: 考虑用户会在详情页面执行的动作并据此安排布局。
* Make navigation between detail views efficient: 如果用户很可能想要按次序查看多个项，要允许他们在详情视图中在项之间导航。使用滑动视图或者其它技术，例如缩略视图控件去实现。

## Checklist

* 找到在起始屏幕上显示有用信息的方式
* 使用动作栏提供一致的导航
* 使用水平导航和捷径保证浅的导航层次
* 使用多选允许用户将动作作用于多个数据
* 使用滑动视图在详情视图中的项之间快速导航
