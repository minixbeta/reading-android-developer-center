# Notifications
通知系统可以让用户从你的应用中及时得到通知，例如朋友发来一条聊天信息或者一个日历提醒。可以把通知当成一个消息通道，用来提醒用户
重要的事件发生了，或者记录下用户没注意到的事件发生的历史，并且可以在所有 Android 设备上同步。

### New in Android 5.0
在 Android 5.0 中，通知系统在结构，视觉以及功能上有了重要更新：
* 通知与新的 material design 主题在视觉上保持一致
* 通知现在在设备锁屏时也可以出现，但是敏感信息仍然可以被隐藏
* 高优先级的通知现在使用一个新的格式，heads-up 通知
* 云同步通知：在一个设备上让通知消失，可以同时让它在多个设备上消失

Note: 在这一版本的 Android 系统中，通知与之前的版本有很大不同。之前版本的通知设计，可以参考 [Notifications in Android 4.4 and lower]()

## Anatomy of a Notification
这一节浏览通知的基本组成部分，以及他们是如何在不同类型的设备上出现的。

### Base layout
所有的通知都至少有下面的布局，包括：

* 通知图标。这个图标是原有应用的符号。如果应用会产生多种不同类型的通知，它也可能表示通知的类型。
* 通知标题和额外的信息
* 时间戳

通知使用在之前版本中 [Notification.Builder]() 创建，在 Android 5.0 中，也以相同的方式工作，只量有一些风格上的改变，不过系统已经
帮助你处理好了。想了解更多关于之前版本的通知，可以查看 [Notifications in Android 4.4 and lower]()

### Expanded layouts
对你的应用的通知来说，你可以选择提供信息的详细程度。他们可以显示消息的前几行或者显示一个大图的预览。额外信息部分可以向用户提供
更多的信息，在某种情况下，可以让用户阅读到整个消息。用户可以通过放大或者执行一个单手指的滑动在压缩和扩展版本之间切换。对单个
事件通知，Android 提供了三种扩展布局模板（文字，收件箱, 图片)供你在应用中使用。下面的图片显示了一个单事件的消息在手持设备上和
可穿戴设备上如何显示。

### Actions
Android 在通知的底部提供了可选的动作。在这些动作上，用户可以不必打开相应应用就能对消息执行常见的任务。这加快了交互过程，并且与
滑动消失配合，帮助用户聚焦于与他们相关的通知。

谨慎决定通知内的动作数目。动作越多，你创造的感知上的复杂度就越高。尽力保持动作数目最少，只包含最重要的和最有意义的动作。

通知内一般设置有下面这些特性的动作比较好：
* 对你显示的内容类型来说，是最本质，最经常使用，最典型的动作
* 让用户快速完成任务

避免下面这些动作：
* 模棱两可
* 与通知的默认动作一样（例如阅读或者打开）

你可以将最大动作数目设置为3， 每个都包含动作图标和名字。将动作添加到通知中，会使得通知展开，即使通知没有展开布局。由于动作只为
展开的通知显示，否则就隐藏，保证用户对通知执行的任何一个动作在应用内也都可以执行。

## Heads-up Notification
当一个重要消息到来时，可以在一个很短的时间内，向用户显示通知的展开状态，并显示可能执行的动作。

显示之后，通知退回通知中心。如果通知的优先级被设定为 High, Max, 或者 full-screen，那么他会使用 heads-up 通知。

heads-up 通知的好例子包括：
* 使用设备时的一个来电
* 使用设备时的警告
* 新的短信
* 低电量

## Guidelines
### Make it personal
对于其它人发来的通知（例如消息或者状态更新），使用 [setLargeIcon()]()来包含个人头像。也可以将与这个人相关的信息附加到通知的元
数据中（见 [EXTRA_PEOPLE]())

你的通知的主图标仍然会显示，用户会将它与状态栏显示的图标联系起来。

### Navigate to the right place
当用户触摸通知的主体时（动作按钮之外），打开你的应用，并且定位到与通知消息相关的视图中。多数情况下，这会是单个数据项的详情视图，例如消息，但是如果通知有多个，它也可能是一个概览视图。如果你的应用将用户带入顶层视图的下层，那么需要在栈中插入导航，以便用户
可以点击系统返回按钮，回到顶层视图。更多信息，可以查看 [Navigation]() 设计模式中的 Navigation into Your App via Home Screen 
Widgets and Notifications.

### Correctly set and manage notification priority
Android 支持通知的优先级标志。这个标志可以影响通知的出现，与其它通知的关系，并且帮助确保用户可以在第一时间看到最重要的通知。你
可以选择下面的优先级：

| Priority | Use |
| :-------:| :--:|
| MAX | 用于关键和紧急的通知，在时间紧迫的条件下，或者只有解决后才能继续执行一个特定任务时使用 |
| HIGH | 主要用于重要的沟通，例如消息或者聊天事件中，对用户而言有一些有趣的内容。高优先级消息会显示 heads-up 通知 |
| DEFAULT | 用户其它通知类型之外的所有情况 |
| LOW | 用户你想让用户知道，但是又不太着急的情况。低优先级通知倾向于在列表底部显示，这对于那些公开以及非直接的社交更新来说是个好机会：用户被通知，但是通知又绝不会比紧迫，直接的交流更优先 |
| MIN | 用户与场景相关的或者背景相关的信息，例如天气信息或者场景位置信息。最小优先级的通知并不出现在状态栏上。使用打开通知中心才能看到他们 |

### How to choose an appropriate priority
DEFAULT, HIGH 和 MAX 是打断式的优先级，有在主活动中打断用户的风险。为了避免打断用户，将打断式优先级用于下面的情况：
* 涉及其它人
* 时间敏感
* 可能会立即改变用户在真实世界的行为

设置成 LOW 和 MIN 的通知对用户仍然是有价值的：许多通知并不需要立刻获取用户的注意，或者振动用户的手腕，但是会在用户查看通知中心
时对用户有用。使用 LOW 和 MIN 优先级的标准是：

* 不涉及其它人
* 不是时间敏感的
* 包含用户感兴趣的信息，但是可以在闲暇时处理

### Set a notification category
如果你的通知属于下面的某一类，那么赋予它此类型。系统 UI，例如通知中心可能使用这一信息进行排序或者过滤。

| 类型 | 解释 |
|:---: | :---:|
| CATEGORY_CALL | 来电（视频或者声音），或者相似的同步通讯请求 |
| CATEGORY_MESSAGE | 发来的消息(短信，即时通讯) |
| CATEGORY_EMAIL | 异步消息（邮件) |
| CATEGORY_EVENT | 日历事件 |
| CATEGORY_PROMO | 推广或者广告 |
| CATEGORY_ALARM | 提醒或者计时器 |
| CATEGORY_PROGRESS | 长时间运行的后台操作的进度 |
| CATEGORY_SOCIAL | 社会化网络或者分享更新 |
| CATEGORY_ERROR | 后台操作或者认证状态错误 |
| CATEGORY_TRANSPORT | 对播放的媒体传输控制 |
| CATEGORY_SYSTEM | 系统或者设备状态更新，保留给系统使用 |
| CATEGORY_SERVICE | 运行后台服务的标志 |
| CATEGORY_RECOMMENDATION | 对一个特定事情的特别的，及时的推荐。例如，新应用可能会推荐一个用户下一步想要阅读的新故事 |
| CATEGORY_STATUS | 设备或者环境状态的即时信息 |

### Summarize your notifications
